import { diffResolvers } from '../../TODO';
import { defaultComponents } from './defaultComponents';
export function resolveDiffComponent(type, parentSchemaType) {
    let itType = type;
    while (itType) {
        const resolved = itType.diffComponent ||
            tryResolve(itType, parentSchemaType) ||
            defaultComponents[itType.name];
        if (resolved) {
            return resolved;
        }
        itType = itType.type;
    }
    return defaultComponents[type.jsonType];
}
function tryResolve(schemaType, parentSchemaType) {
    const resolvers = diffResolvers;
    let resolved;
    for (const resolver of resolvers) {
        if (typeof resolver !== 'function') {
            // eslint-disable-next-line no-console
            console.error('Diff component resolver is not a function: ', resolver);
            continue;
        }
        resolved = resolver({ schemaType, parentSchemaType });
        if (resolved) {
            return resolved;
        }
    }
    return undefined;
}
//# sourceMappingURL=resolveDiffComponent.js.map