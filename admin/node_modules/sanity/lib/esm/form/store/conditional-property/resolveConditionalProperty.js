/* eslint-disable no-nested-ternary */
export function resolveConditionalProperty(property, context) {
  const {
    currentUser,
    document,
    parent,
    value
  } = context;

  if (typeof property === 'boolean' || property === undefined) {
    return Boolean(property);
  }

  return property({
    document: document,
    parent,
    value,
    currentUser
  }) === true // note: we can't strictly "trust" the return value here, so the conditional property should probably be typed as unknown
  ;
}