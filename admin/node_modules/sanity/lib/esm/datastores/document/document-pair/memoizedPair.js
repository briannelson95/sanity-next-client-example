import { Observable } from 'rxjs';
import { publishReplay, refCount } from 'rxjs/operators';
import { memoize } from '../utils/createMemoizer';
import { checkoutPair } from './checkoutPair';
export const memoizedPair = memoize((client, idPair, _typeName) => {
  return new Observable(subscriber => {
    subscriber.next(checkoutPair(client, idPair));
  }).pipe(publishReplay(1), refCount());
}, (_client, idPair) => idPair.publishedId);