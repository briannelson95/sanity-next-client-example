const requestIdleCallbackShim = callback => {
  const start = Date.now();
  return setTimeout(() => {
    callback({
      didTimeout: false,

      timeRemaining() {
        return Math.max(0, Date.now() - start);
      }

    });
  }, 1);
};

const cancelIdleCallbackShim = handle => {
  return clearTimeout(handle);
};

const _requestIdleCallback = typeof requestIdleCallback === 'undefined' ? requestIdleCallbackShim : requestIdleCallback;

const _cancelIdleCallback = typeof cancelIdleCallback === 'undefined' ? cancelIdleCallbackShim : cancelIdleCallbackShim;

export { _requestIdleCallback as requestIdleCallback };
export { _cancelIdleCallback as cancelIdleCallback };