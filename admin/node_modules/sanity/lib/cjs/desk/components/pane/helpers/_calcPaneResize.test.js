"use strict";

var _calcPaneResize2 = require("./_calcPaneResize");

describe('@sanity/desk-tool/components/pane', () => {
  describe('_calcPaneResize', () => {
    it('should calculate pane resize', () => {
      const cache = {
        left: {
          element: null,
          flex: 1,
          width: 250
        },
        right: {
          element: null,
          flex: 1,
          width: 250
        }
      };
      const leftPane = {
        flex: 1,
        id: 'left',
        minWidth: 100,
        maxWidth: 500
      };
      const rightPane = {
        flex: 1,
        id: 'right',
        minWidth: 100
      }; // move resizer to left

      expect((0, _calcPaneResize2._calcPaneResize)(cache, leftPane, rightPane, -200)).toEqual({
        leftFlex: 0.4,
        leftW: 100,
        rightFlex: 1.6,
        rightW: 400
      }); // move resizer to right

      expect((0, _calcPaneResize2._calcPaneResize)(cache, leftPane, rightPane, 300)).toEqual({
        leftFlex: 1.6,
        leftW: 400,
        rightFlex: 0.4,
        rightW: 100
      }); // case 2

      cache.left.width = 100;
      cache.right.width = 400; // move resizer to left

      expect((0, _calcPaneResize2._calcPaneResize)(cache, leftPane, rightPane, -60)).toEqual({
        leftFlex: 0.4,
        leftW: 100,
        rightFlex: 1.6,
        rightW: 400
      }); // case 3

      cache.left.flex = 4;
      cache.left.width = 400;
      cache.right.flex = 6;
      cache.right.width = 600; // move resizer to left

      expect((0, _calcPaneResize2._calcPaneResize)(cache, leftPane, rightPane, 200)).toEqual({
        leftFlex: 5,
        leftW: 500,
        rightFlex: 5,
        rightW: 500
      });
    });
  });
});