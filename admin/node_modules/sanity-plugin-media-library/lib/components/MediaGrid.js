"use strict";
var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.MediaGrid = void 0;
var DraggableMediaItem_1 = require("./DraggableMediaItem");
var react_1 = __importDefault(require("react"));
var styled_components_1 = __importDefault(require("styled-components"));
var ui_1 = require("@sanity/ui");
var icons_1 = require("@sanity/icons");
var StyledMediaInfo = styled_components_1.default.div(templateObject_1 || (templateObject_1 = __makeTemplateObject(["\n  padding: 30px 10px;\n  text-align: center;\n  width: 150px;\n  height: 150px;\n  max-width: 100%;\n  max-height: 100%;\n  border: 1px solid whitesmoke;\n  border-radius: 5px;\n  overflow: hidden;\n"], ["\n  padding: 30px 10px;\n  text-align: center;\n  width: 150px;\n  height: 150px;\n  max-width: 100%;\n  max-height: 100%;\n  border: 1px solid whitesmoke;\n  border-radius: 5px;\n  overflow: hidden;\n"])));
var StyledThumbnail = styled_components_1.default.img(templateObject_2 || (templateObject_2 = __makeTemplateObject(["\n  display: block;\n  border-radius: 5px;\n  max-width: 150px;\n  max-height: 150px;\n  width: 150px;\n  height: 150px;\n  border: 1px solid whitesmoke;\n  padding: 2px;\n"], ["\n  display: block;\n  border-radius: 5px;\n  max-width: 150px;\n  max-height: 150px;\n  width: 150px;\n  height: 150px;\n  border: 1px solid whitesmoke;\n  padding: 2px;\n"])));
var StyledFilename = styled_components_1.default.span(templateObject_3 || (templateObject_3 = __makeTemplateObject(["\n  word-break: break-all;\n"], ["\n  word-break: break-all;\n"])));
var MediaGrid = function (_a) {
    var _b = _a.assets, assets = _b === void 0 ? [] : _b, onDoubleClick = _a.onDoubleClick, onDragStart = _a.onDragStart, onMediaItemClick = _a.onMediaItemClick, selectedAssets = _a.selectedAssets, setIsDraggingMediaItem = _a.setIsDraggingMediaItem;
    return (react_1.default.createElement(ui_1.Flex, { wrap: "wrap", gap: 3, padding: 3 }, assets.map(function (asset) { return (react_1.default.createElement(DraggableMediaItem_1.DraggableMediaItem, { key: asset._id, _type: asset._type, onDragEnd: function () { return setIsDraggingMediaItem(false); }, onDragStart: function () {
            onDragStart(asset);
            setIsDraggingMediaItem(true);
        }, selectedAmount: selectedAssets.length, url: asset.url },
        react_1.default.createElement(ui_1.Card, { style: {
                outlineOffset: -4,
                outline: selectedAssets.findIndex(function (_a) {
                    var _id = _a._id;
                    return _id === asset._id;
                }) > -1 ? '4px solid currentColor' : 0,
            }, onClick: function (e) { return onMediaItemClick(e, asset); }, onDoubleClick: function () { return onDoubleClick(asset); } }, asset._type === 'sanity.imageAsset' ? (react_1.default.createElement(ui_1.Tooltip, { portal: true, content: react_1.default.createElement(ui_1.Box, { padding: 2 },
                react_1.default.createElement(ui_1.Text, { muted: true, size: 1 }, asset.title || asset.originalFilename)), fallbackPlacements: ['top', 'bottom'], placement: "top" },
            react_1.default.createElement(StyledThumbnail, { alt: asset.alt, src: asset.url + "?w=150&h=150&fit=crop&auto=format&q=80", loading: "lazy" }))) : (react_1.default.createElement(StyledMediaInfo, null,
            react_1.default.createElement(icons_1.DocumentIcon, null),
            react_1.default.createElement(ui_1.Text, { muted: true, size: 1 },
                react_1.default.createElement(StyledFilename, null, asset.title || asset.originalFilename))))))); })));
};
exports.MediaGrid = MediaGrid;
var templateObject_1, templateObject_2, templateObject_3;
